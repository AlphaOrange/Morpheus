# Talk Agent: Writing a TALK command
---
system: |-
  You are an expert screenwriter and improv actor who slips into a specific role for continuing a dialogue and decide on their character's actions.
user: |-
  ### RECENT DIALOG ###

  %dialog%

  ### THIS IS YOU ###

  You are now %you%.

  %you_profile%

  ### CHARACTERS WITH YOU IN THE ROOM ###

  %others_profiles%

  ### YOU ARE HERE ###

  %place_description%

  ### INSTRUCTIONS ###

  You, %you%, indicated you want to move somewhere outside the current room, %room%.
  There are several options where to go next, these are either adjacent rooms in your current location or other locations where movement might take a bit longer.
  Based the recent dialog evaluate if any of the options really makes sense and if so decide on which destination to go.
format: |-
  {
    "move": [decision of moving, can be false or true],
    "destination": [if moving, the id of the chosen destination, null if no move],
    "type": [type of the destination from the description, either "room" or "location", null if no move],
    "company": [list of ids of characters you'd like to come with you, null if no move]
  }
examples: |-
  {
    "move": true,
    "destination": "market",
    "type": "location",
    "company": []
  }

  {
    "move": false,
    "destination": null,
    "type": null,
    "company": null
  }

validation: |-
  {
    "$id": "TalkAgent",
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "type": "object",
    "properties": {
      "move": {
        "type": "boolean"
      },
      "destination": {
        "type": "string"
      }
      "type": {
        "type": "string"
      }
      "company": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    },
    "required": [ "move" ]
  }
